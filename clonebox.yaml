version: '1'
generated: '2026-01-31T12:50:02.899937'
vm:
  name: clone-clonebox
  ram_mb: 4096
  vcpus: 8
  disk_size_gb: 30
  gui: true
  base_image: /home/tom/ubuntu-22.04-cloud.qcow2
  network_mode: auto
  username: ubuntu
  password: ${VM_PASSWORD}
services:
- containerd
- cups-browsed
- cups
- docker
- systemd-resolved
- qemu-guest-agent
- snapd
- gdm3
packages:
- build-essential
- git
- curl
- vim
- docker.io
- firefox
- golang
- nginx
- python3
- screen
- uvicorn
snap_packages:
- pycharm-community
- chromium
post_commands:
- command -v google-chrome >/dev/null 2>&1 || (curl -fsSL -o /tmp/google-chrome.deb
  https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb && apt-get
  update && DEBIAN_FRONTEND=noninteractive apt-get install -y /tmp/google-chrome.deb)
# Enable lingering for ubuntu user to allow user services
- loginctl enable-leave ubuntu || true
paths:
  /home/tom/github/wronai/clonebox: /mnt/project0
  /home/tom/github: /mnt/project1
  /home/tom/github/invutil: /mnt/project2
  /home/tom/gitlab: /mnt/project3
  /home/tom: /mnt/workdir4
  /home/tom/Downloads: /home/ubuntu/Downloads
  /home/tom/Documents: /home/ubuntu/Documents
app_data_paths:
  /home/tom/.config/google-chrome: /home/ubuntu/.config/google-chrome
  /home/tom/.config/chromium: /home/ubuntu/.config/chromium
  /home/tom/.docker: /home/ubuntu/.docker
  /home/tom/snap/firefox/common/.mozilla/firefox: /home/ubuntu/snap/firefox/common/.mozilla/firefox
  /home/tom/snap/firefox/common/.cache/mozilla/firefox: /home/ubuntu/snap/firefox/common/.cache/mozilla/firefox
  /home/tom/.config/JetBrains: /home/ubuntu/snap/pycharm-community/common/.config/JetBrains
  /home/tom/.local/share/JetBrains: /home/ubuntu/snap/pycharm-community/common/.local/share/JetBrains
  /home/tom/.cache/JetBrains: /home/ubuntu/snap/pycharm-community/common/.cache/JetBrains
  /home/tom/.pyenv: /home/ubuntu/.pyenv
web_services:
  - name: uvicorn
    description: "CloneBox uvicorn web server"
    workdir: /mnt/project0
    exec: "uvicorn app:app --host 0.0.0.0 --port 8000 --reload"
    user: ubuntu
    environment:
      - "PATH=/usr/bin:/bin:/usr/local/bin"
      - "PYTHONPATH=/mnt/project0"
      - "WATCHFILES_FORCE_POLLING=true"
    after: "network.target"
    restart: "always"
    restart_sec: 5
  - name: nginx
    description: "CloneBox nginx web server"
    workdir: /etc/nginx
    exec: "nginx -g 'daemon off;'"
    user: root
    after: "network.target"
    restart: "always"
    restart_sec: 10
  - name: docker
    description: "Docker daemon"
    workdir: /
    exec: "/usr/bin/dockerd"
    user: root
    after: "network.target"
    restart: "always"
    restart_sec: 10
detected:
  running_apps:
  - name: pycharm
    cwd: /home/tom
    memory_mb: 5518
  - name: firefox
    cwd: /home/tom
    memory_mb: 1118
  - name: uvicorn
    cwd: ''
    memory_mb: 112
  - name: dockerd
    cwd: ''
    memory_mb: 102
  - name: python
    cwd: /app
    memory_mb: 57
  - name: python3
    cwd: ''
    memory_mb: 48
  - name: nginx-ingress-controller
    cwd: ''
    memory_mb: 32
  - name: goa-daemon
    cwd: /home/tom
    memory_mb: 20
  - name: goa-identity-service
    cwd: /home/tom
    memory_mb: 8
  - name: gvfs-goa-volume-monitor
    cwd: /home/tom
    memory_mb: 7
  app_data_dirs:
  - path: /home/tom/.config/google-chrome
    app: chrome
    size_mb: 151.5
  - path: /home/tom/.config/chromium
    app: chrome
    size_mb: 1.8
  - path: /home/tom/.docker
    app: docker
    size_mb: 70.3
  - path: /home/tom/snap/firefox/common/.mozilla/firefox
    app: firefox
    size_mb: 356.5
  - path: /home/tom/snap/firefox/common/.cache/mozilla/firefox
    app: firefox
    size_mb: 20.4
  - path: /home/tom/.config/JetBrains
    app: pycharm
    size_mb: 166.4
  - path: /home/tom/.local/share/JetBrains
    app: pycharm
    size_mb: 219.2
  - path: /home/tom/.cache/JetBrains
    app: pycharm
    size_mb: 4892.1
  - path: /home/tom/.pyenv
    app: python
    size_mb: 20.5
  all_paths:
    projects:
    - /home/tom/github/wronai/clonebox
    - /home/tom/github
    - /home/tom/github/invutil
    - /home/tom/gitlab
    configs:
    - /etc/apache2
    - /home/tom/.cargo
    - /home/tom/.config
    - /home/tom/.docker
    - /home/tom/.kube
    data:
    - /home/tom/.local/share
    - /home/tom/.nvm
    - /home/tom/.pyenv
    - /home/tom/.rustup
    - /home/tom/Documents
